name: Release on Tag

on:
  push:
    tags:
      - 'v*'  # This will trigger the workflow on tags starting with 'v'


jobs:
  build:
    name: Create Release
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v2

      - name: Read Release Notes from releaseNote.md
        id: read_release_notes
        run: echo "notes=$(cat releaseNote.md | base64)" >> $GITHUB_OUTPUT
  
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1
        with:
          tag_name: ${{ github.ref }}
          release_name: Release ${{ github.ref }}
          body: ${{ steps.read_release_notes.outputs.notes }}
        env:
          GITHUB_TOKEN: ${{ secrets.PAT }}